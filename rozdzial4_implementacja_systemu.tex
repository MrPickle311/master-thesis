\section{Implementacja systemu przetwarzania danych}
\label{sec:implementacja_systemu}

W niniejszym rozdziale zestawiono pokrótce narzędzia informatyczne wykorzystywane w implementacji autorskiego systemu do analizy danych w czasie rzeczywistym z systemów wieloczujnikowych,
zgodnie z projektem opisanym w poprzednim rozdziale.

\subsection{Wykorzystane technologie}
\label{subsec:technologie}

W stworzonej implementacji zastosowane zostały przedstawione poniżej kluczowe technologie.

\subsubsection{Języki programowania}
\label{subsubsec:jezyki_programowania}

\begin{itemize}
    \item \textbf{język \textit{Java 21}} - główny język programowania wykorzystany do implementacji mikroserwisów (np. \textit{FrontService}, \textit{DataService}),
    \item \textbf{język \textit{Scala}} - język programowania wykorzystany do implementacji aplikacji \\ \textit{\mbox{SparkDataProcessor}} służącej do przetwarzania strumieni danych za pomocą \mbox{\textit{Apache Spark}},
    \item \textbf{język \textit{Python 3.9}} - język wykorzystany do implementacji symulatorów czujników i skryptów pomocniczych (np. do trenowania modelu uczenia maszynowego),
    \item \textbf{język \textit{TypeScript}} - język wykorzystany do implementacji interfejsu użytkownika.
\end{itemize}

\subsubsection{Frameworki i biblioteki dla aplikacji}
\label{subsubsec:frameworki}

\begin{itemize}
    \item \textbf{framework \mbox{Spring Boot} 3.4} - framework wykorzystany do implementacji mikroserwisów języku Java,
    \item \textbf{silnik analityczny \mbox{Apache Spark} 3.x} \cite{spark_streaming} - framework wykorzystany do przetwarzania strumieniowego danych (\mbox{\textit{Spark Structured Streaming}}) \cite{chambers2018spark} oraz do zadań uczenia maszynowego (\mbox{\textit{Spark ML}}) w aplikacji \textit{SparkDataProcessor},
    \item \textbf{framework \mbox{Spring Cloud}} - zestaw narzędzi do budowy aplikacji na chmurze,
    \item \textbf{biblioteka \textit{React 18}} - biblioteka \textit{JavaScript} wykorzystana do budowy interfejsu użytkownika.
\end{itemize}

\subsubsection{Bazy danych i systemy magazynowania}
\label{subsubsec:bazy_danych}

\begin{itemize}
    \item \textbf{broker \mbox{\textit{Apache Kafka}} 3.4} \cite{kafka} - platforma do przetwarzania strumieniowego,
    \item \textbf{baza danych \textit{PostgreSQL 15}} - relacyjna baza danych,
    \item \textbf{baza danych \textit{Elasticsearch 8.7}} - baza danych \mbox{\textit{NoSQL}} \cite{nosql_definition} do wyszukiwania i analizy,
    \item \textbf{baza danych \textit{Redis 7.0}} - pamięciowa baza danych wykorzystywana jako rozproszona pamięć podręczna (ang. \textit{distributed cache}).
\end{itemize}

\subsubsection{Infrastruktura i orkiestracja aplikacji}
\label{subsubsec:infrastruktura}

\begin{itemize}
    \item \textbf{klaster \textit{Kubernetes} 1.26} \cite{kubernetes} - platforma do orkiestracji kontenerów,
    \item \textbf{platforma \textit{Docker}} - platforma konteneryzacji,
    \item \textbf{menedżer pakietów \textit{Helm 3}} - menedżer pakietów dla \textit{Kubernetes},
    \item \textbf{chmura \textit{AWS}} (Amazon Web Services) \cite{aws_definition} - chmura obliczeniowa wykorzystana do hostowania usług zewnętrznych,
    \item \textbf{narzędzie \textit{Terraform}} - narzędzie do zarządzania infrastrukturą jako kod (\textit{IaC}, ang. \\ \textit{\mbox{Infrastructure as Code}}) \cite{terraform_docs}.
\end{itemize}

\subsection{Implementacja symulatora czujników}
\label{subsec:implementacja_symulatora}

\subsubsection{Architektura symulatora danych z czujników}
\label{subsubsec:architektura_symulatora}

Architektura symulatora, stworzonego na potrzeby niniejszej pracy, składa się z kilku kluczowych komponentów:

\begin{itemize}
    \item \textbf{usługa \textit{AWS Step Functions}} - usługa koordynująca wykonywanie funkcji Lambda, zarządzając przepływem pracy i częstotliwością generowania danych,
    \item \textbf{funkcja \textit{AWS Lambda}} \cite{aws_lambda_docs} - usługa bezserwerowa wykonująca kod symulatora,
    \item \textbf{usługa \textit{AWS SNS}} (Amazon Simple Notification Service) \cite{sns_docs} - usługa powiadomień działająca jako punkt dystrybucji dla wygenerowanych danych,
    \item \textbf{kolejka \textit{AWS SQS}} (Amazon Simple Queue Service) \cite{sqs_docs} - usługa kolejek buforująca wiadomości przed ich przetworzeniem przez system.
\end{itemize}

%Schemat architektury symulatora przedstawiono na Rysunku \ref{fig:architektura_symulatora}.
%
%\begin{figure}[h]
%    \centering
%    % Tutaj powinien być diagram architektury symulatora
%    \caption{Architektura symulatora czujników}
%    \label{fig:architektura_symulatora}
%\end{figure}

\subsubsection{Implementacja funkcji Lambda generujących dane z czujników}
\label{subsubsec:implementacja_lambda}

W ramach niniejszego projektu funkcje Lambda zostały zaimplementowane w języku Python 3.9. Każda funkcja generuje dane dla określonego typu czujnika,
symulując jego zachowanie w różnych warunkach pracy. Zaimplementowany symulator uwzględnia specyfikę każdego typu czujnika i jego charakterystykę w kontekście procesu syntezy amoniaku.

\vspace{0.3em}

Dla każdego typu czujnika zaimplementowano logikę generowania realistycznych danych, uwzględniającą:
\begin{itemize}
    \item normalne wahania wartości w zakresie typowym dla danego parametru,
    \item możliwość wystąpienia anomalii z określonym prawdopodobieństwem,
    \item korelacje między różnymi parametrami procesu,
    \item symulację zakłóceń i szumów pomiarowych.
\end{itemize}
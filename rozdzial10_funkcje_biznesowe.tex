\section{Prezentacja wizualna danych i funkcje biznesowe systemu}
\label{chap:prezentacja_wizualna}

Interfejs użytkownika (UI) systemu analitycznego został starannie zaprojektowany, aby umożliwić intuicyjną i efektywną pracę z danymi telemetrycznymi. Zbudowany w oparciu o nowoczesne technologie, takie jak: React oraz biblioteka komponentów Ant Design, zapewnia responsywność i bogaty zestaw interakcji. Dostęp do systemu jest zabezpieczony poprzez integrację z serwerem Keycloak, co gwarantuje, że tylko autoryzowani użytkownicy z przypisanymi rolami \texttt{DATA\_ACCESSOR} lub \texttt{ADMIN} mogą korzystać z jego zasobów. Rola \texttt{ADMIN} dodatkowo rozszerza uprawnienia o możliwość zarządzania kontami użytkowników, co typowo realizowane jest poprzez dedykowany panel administracyjny Keycloak, zapewniając centralne zarządzanie dostępem.

Celem aplikacji jest dostarczenie użytkownikom narzędzi do monitorowania procesów w czasie rzeczywistym, analizy danych historycznych oraz generowania szczegółowych raportów, co przekłada się na lepsze zrozumienie działania systemu, szybsze wykrywanie anomalii i podejmowanie świadomych decyzji biznesowych.

\subsection{Pulpit Główny (Home Dashboard) - Centrum Monitorowania Operacyjnego}

Pulpit główny stanowi spersonalizowane centrum dowodzenia dla każdego użytkownika, oferując natychmiastowy przegląd najważniejszych informacji o stanie systemu. Po zalogowaniu, użytkownik jest witany imiennie, co buduje przyjazne środowisko pracy.

\singlesizedimageforced{images/home.png}{Pulpit główny}{1.0}

\subsubsection{Monitorowanie Zdarzeń i Alertów - Świadomość Sytuacyjna}
Kluczowym elementem pulpitu jest sekcja \texttt{Events \& alerts}, która agreguje i prezentuje zdarzenia systemowe w porządku chronologicznym. Mogą to być zarówno standardowe komunikaty operacyjne, jak i krytyczne alerty informujące o przekroczeniach zdefiniowanych progów dla wartości sensorów lub innych istotnych incydentach. Funkcjonalność ta ma kluczowe znaczenie dla utrzymania ciągłości operacyjnej:
\begin{itemize}
    \item \textbf{szybka identyfikacja problemów:} możliwość filtrowania listy w celu wyświetlenia \textbf{tylko alertów} pozwala operatorom na natychmiastowe skupienie uwagi na sytuacjach wymagających interwencji,
    \item \textbf{analiza incydentów:} zaawansowane opcje przeszukiwania zdarzeń według słów kluczowych oraz filtrowania ich według zdefiniowanego zakresu dat umożliwiają dogłębną analizę przyczyn źródłowych problemów oraz identyfikację wzorców i trendów w przeszłych zdarzeniach.
\end{itemize}
Informacje o zdarzeniach są dynamicznie pobierane z \texttt{data-service}, które prawdopodobnie agreguje je z różnych źródeł, w tym z systemu przetwarzania strumieniowego (np. na podstawie logiki zaimplementowanej w \texttt{kafka-data-processor}).

\subsubsection{Wizualizacja Wartości Sensorów - Bezpośredni Wgląd w Parametry}
Dashboard umożliwia ciągłe monitorowanie kluczowych parametrów operacyjnych poprzez wyświetlanie wartości z wybranych przez użytkownika sensorów. Prezentacja danych jest podzielona na dwie kategorie, każda dostarczająca innego rodzaju informacji:
\begin{itemize}
    \item \textbf{Current Sensor Values (bieżące wartości sensorów):} ta sekcja prezentuje najnowsze, surowe odczyty bezpośrednio z sensorów. Użytkownik widzi etykietę identyfikującą konkretny punkt pomiarowy (np. \textit{Temperatura - Przed Kotłem}) oraz jego aktualną wartość wraz z odpowiednią jednostką miary (np. °C, hPa, \%, m/s). Jednostki te są dynamicznie pobierane z centralnej konfiguracji systemu, co zapewnia spójność prezentacji. Funkcja ta jest nieoceniona dla natychmiastowej oceny stanu poszczególnych komponentów systemu i umożliwia szybkie podjęcie decyzji w przypadku wykrycia nieoczekiwanych odchyleń,
    \item \textbf{Average Sensor Values (uśrednione wartości sensorów):} w odróżnieniu od wartości bieżących, ta sekcja pokazuje uśrednione wartości dla wybranych sensorów z określonego, niedawnego przedziału czasu. Te wartości są prawdopodobnie wynikiem agregacji danych strumieniowych (np. realizowanej przez Kafka Streams na podstawie konfiguracji w \texttt{kafka-data-processor-config}), co pozwala na wygładzenie chwilowych fluktuacji i obserwację bardziej stabilnych trendów. Jest to przydatne do oceny ogólnej wydajności i stabilności procesów w średnim okresie.
\end{itemize}
\textbf{Personalizacja Widoku:} Obie sekcje wyświetlające wartości sensorów są w pełni konfigurowalne. W trybie edycji, dostępnym z paska bocznego interfejsu, użytkownik może dynamicznie modyfikować swój pulpit:
\begin{itemize}
    \item dodawać nowe sensory do monitorowania poprzez wybór typu sensora (np. Temperatura, Ciśnienie, Przepływ) z predefiniowanej listy, a następnie wybór konkretnej etykiety pomiarowej (np. Przed Kotłem, Za Sprężarką Powrotną) dostępnej dla danego typu sensora,
    \item modyfikować lub usuwać istniejące kafelki z wartościami sensorów.
\end{itemize}
Konfiguracja pulpitu jest zapisywana indywidualnie dla każdego użytkownika, co pozwala na dostosowanie interfejsu do jego specyficznych potrzeb i zakresu odpowiedzialności. Dodatkowo, w celu optymalizacji prezentacji, kafelki wyświetlające wartości mogą mieć dynamicznie dostosowywaną szerokość. Dla sensorów oznaczonych w konfiguracji systemowej jako \texttt{wideSensors} – typowo tych, które prezentują wiele powiązanych wartości lub dłuższe opisy tekstowe – kafelek automatycznie zajmuje podwójną standardową szerokość. Zapewnia to lepszą czytelność i przejrzystość prezentowanych informacji, eliminując konieczność przycinania tekstu lub nadmiernego zagęszczania danych.

\subsubsection{Wykresy Danych }
Sekcja \texttt{Realtime data charts} jest potężnym narzędziem do wizualizacji dynamiki zmian wartości sensorów. Wykresy liniowe aktualizują się w czasie zbliżonym do rzeczywistego, co pozwala na proaktywne monitorowanie i wczesne wykrywanie odchyleń od normalnych warunków operacyjnych.
\begin{itemize}
    \item \textbf{dynamiczna wizualizacja stanu sensora:} kluczową funkcją jest możliwość wizualizacji \textbf{stanu sensora} bezpośrednio na wykresie. Realizowane jest to poprzez dynamiczną zmianę koloru tła odpowiedniego regionu wykresu, co dostarcza natychmiastowego wizualnego sygnału o kondycji monitorowanego elementu lub procesu. Umożliwia to operatorom szybką ocenę sytuacji bez konieczności analizowania dokładnych wartości liczbowych,
    \item \textbf{personalizacja wykresów:} podobnie jak w przypadku wartości numerycznych, użytkownicy w trybie edycji mogą dodawać nowe wykresy (wybierając typ sensora i etykietę), modyfikować konfigurację istniejących lub je usuwać, dostosowując widok do aktualnych potrzeb analitycznych,
    \item \textbf{regulacja zakresu czasowego:} możliwość zmiany zakresu czasu prezentowanego na wykresach (np. ostatni dzień, ostatnie dwa dni, tydzień) pozwala na analizę zarówno krótkoterminowych fluktuacji, jak i długoterminowych wzorców zachowań systemu.
\end{itemize}

\singlesizedimageforced{images/charts.png}{Wykresy danych}{1.0}

\newpage

\subsection{System Raportowania}
Sekcja \texttt{Reports} umożliwia użytkownikom tworzenie, przeglądanie i zarządzanie raportami opartymi na danych historycznych.

\subsubsection{Definiowanie Raportów}
Użytkownik może zdefiniować nowy raport poprzez formularz, w którym określa:
\begin{itemize}
    \item nazwę, etykietę oraz opis raportu,
    \item konfigurację sensorów: wybór jednego lub wielu typów sensorów oraz, dla każdego typu, jednej lub wielu konkretnych etykiet pomiarowych, z których dane mają być uwzględnione w raporcie,
    \item zakres czasowy: precyzyjny przedział dat (od-do), dla którego dane historyczne zostaną pobrane i zaprezentowane.
\end{itemize}
Zdefiniowany raport jest zapisywany w systemie, a jego konfiguracja przechowywana w bazie danych PostgreSQL oraz indeksowana w Elasticsearch w celu umożliwienia szybkiego wyszukiwania.

\singlesizedimageforced{images/create_report.png}{Tworzenie raportu}{1.0}

\newpage

\subsubsection{Przeglądanie i Zarządzanie Raportami}

Lista zdefiniowanych raportów jest prezentowana w formie tabelarycznej, z możliwością paginacji. Użytkownik może:

\begin{itemize}
    \item wyszukiwać raporty po nazwie lub opisie,
    \item filtrować listę raportów według zakresu dat, typów sensorów oraz etykiet pomiarowych zawartych w raportach,
    \item sortować raporty według różnych kryteriów (np. nazwa, data początkowa, data końcowa).
\end{itemize}

Kliknięcie na raport z listy otwiera jego szczegółowy widok.


\singlesizedimageforced{images/reports_list.png}{Wyszukiwarka raportów}{0.90}

\subsubsection{Szczegóły Raportu}
Widok szczegółowy raportu prezentuje wszystkie zdefiniowane metadane (nazwa, opis, zakres czasowy, wybrane sensory) oraz, co najważniejsze, wykresy historyczne dla każdej skonfigurowanej kombinacji sensor-etykieta w zadanym przedziale czasowym. Umożliwia to dogłębną analizę przeszłych zdarzeń i trendów. Z tego poziomu użytkownik może również przejść do edycji definicji raportu lub go usunąć.

\singlesizedimageforced{images/details.png}{Szczegóły raportu}{0.8}

\subsection{Dostosowywanie Interfejsu i Konfiguracja}
Interfejs użytkownika jest dynamicznie konfigurowany na podstawie danych pobieranych z backendu (\texttt{data-service} poprzez \texttt{front-service}). Dotyczy to m.in. listy dostępnych typów sensorów, ich etykiet, jednostek miar, opcji filtrowania czasu itp. Zapewnia to spójność i elastyczność systemu.

Choć interfejs użytkownika pozwala na edycję konfiguracji pulpitu i raportów, szczegółowe różnice w uprawnieniach między rolami \texttt{DATA\_ACCESSOR} a \texttt{ADMIN} (np. kto może zapisywać zmiany) są prawdopodobnie egzekwowane po stronie backendu, poza wspomnianym już zarządzaniem użytkownikami przez administratorów. 

\singlesizedimageforced{images/home_edit.png}{Modyfikacja pulpitu}{1.0}